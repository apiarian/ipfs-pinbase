{"swagger":"2.0","info":{"title":"pinbase","description":"The IPFS-pinbase API","contact":{"name":"Aleksandr Pasechnik","email":"al@megamicron.net","url":"https://megamicron.net"},"license":{"name":"MIT"},"version":"0.1"},"host":"localhost:3000","schemes":["http"],"consumes":["application/json"],"produces":["application/json"],"paths":{"/login":{"post":{"tags":["login"],"summary":"login login","description":"Get a new JWT token","operationId":"login#login","responses":{"204":{"description":"No Content","headers":{"Authorization":{"description":"The new JWT","type":"string"}}}},"schemes":["http"],"security":[{"LoginBasicAuth":[]}]}},"/nodes":{"get":{"tags":["node"],"summary":"list node","description":"List the nodes available to this pinbase\n\nRequired security scopes:\n  * `node:view`","operationId":"node#list","responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PinbaseNodeCollection"}}},"schemes":["http"],"security":[{"jwt":["node:view"]}]},"post":{"tags":["node"],"summary":"create node","description":"Connect to a node\n\nRequired security scopes:\n  * `node:create`","operationId":"node#create","parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/CreateNodePayload"}}],"responses":{"201":{"description":"Resource created","headers":{"Location":{"description":"href to the created resource","type":"string","pattern":"/nodes/.+"}}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"],"security":[{"jwt":["node:create"]}]}},"/nodes/{nodeHash}":{"get":{"tags":["node"],"summary":"show node","description":"Get node by hash\n\nRequired security scopes:\n  * `node:view`","operationId":"node#show","parameters":[{"name":"nodeHash","in":"path","description":"Node Hash","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PinbaseNode"}},"404":{"description":"Not Found"}},"schemes":["http"],"security":[{"jwt":["node:view"]}]},"delete":{"tags":["node"],"summary":"delete node","description":"Delete a node\n\nRequired security scopes:\n  * `node:delete`","operationId":"node#delete","parameters":[{"name":"nodeHash","in":"path","description":"Node Hash","required":true,"type":"string"}],"responses":{"204":{"description":"No Content"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found"}},"schemes":["http"],"security":[{"jwt":["node:delete"]}]},"patch":{"tags":["node"],"summary":"update node","description":"Change a node's address (must be the same node-id) or description\n\nRequired security scopes:\n  * `node:edit`","operationId":"node#update","parameters":[{"name":"nodeHash","in":"path","description":"Node Hash","required":true,"type":"string"},{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/node-payload"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PinbaseNode"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found"}},"schemes":["http"],"security":[{"jwt":["node:edit"]}]}}},"definitions":{"CreateNodePayload":{"title":"CreateNodePayload","type":"object","properties":{"api-url":{"type":"string","description":"The API URL for the node, possibly relative to the pinbase (i.e. localhost)","example":"Et officia rerum accusamus voluptates atque reprehenderit."},"description":{"type":"string","description":"A helpful description of the node","example":"Vero minus quisquam nulla veritatis atque."}},"example":{"api-url":"Et officia rerum accusamus voluptates atque reprehenderit.","description":"Vero minus quisquam nulla veritatis atque."},"required":["api-url","description"]},"PinbaseNode":{"title":"Mediatype identifier: application/vnd.pinbase.node+json; view=default","type":"object","properties":{"api-url":{"type":"string","description":"The API URL for the node, possibly relative to the pinbase (i.e. localhost)","example":"Ut provident ratione doloribus id consequuntur."},"description":{"type":"string","description":"A helpful description of the node","example":"Reiciendis necessitatibus dolor magnam voluptates."},"hash":{"type":"string","description":"The nodes' unique hash","example":"Iusto nostrum architecto."}},"description":"An IPFS node (default view)","example":{"api-url":"Ut provident ratione doloribus id consequuntur.","description":"Reiciendis necessitatibus dolor magnam voluptates.","hash":"Iusto nostrum architecto."},"required":["hash","description","api-url"]},"PinbaseNodeCollection":{"title":"Mediatype identifier: application/vnd.pinbase.node+json; type=collection; view=default","type":"array","items":{"$ref":"#/definitions/PinbaseNode"},"description":"PinbaseNodeCollection is the media type for an array of PinbaseNode (default view)","example":[{"api-url":"Ut provident ratione doloribus id consequuntur.","description":"Reiciendis necessitatibus dolor magnam voluptates.","hash":"Iusto nostrum architecto."},{"api-url":"Ut provident ratione doloribus id consequuntur.","description":"Reiciendis necessitatibus dolor magnam voluptates.","hash":"Iusto nostrum architecto."}]},"error":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"code":{"type":"string","description":"an application-specific error code, expressed as a string value.","example":"invalid_value"},"detail":{"type":"string","description":"a human-readable explanation specific to this occurrence of the problem.","example":"Value of ID must be an integer"},"id":{"type":"string","description":"a unique identifier for this particular occurrence of the problem.","example":"3F1FKVRR"},"meta":{"type":"object","description":"a meta object containing non-standard meta-information about the error.","example":{"timestamp":1458609066},"additionalProperties":true},"status":{"type":"string","description":"the HTTP status code applicable to this problem, expressed as a string value.","example":"400"}},"description":"Error response media type (default view)","example":{"code":"invalid_value","detail":"Value of ID must be an integer","id":"3F1FKVRR","meta":{"timestamp":1458609066},"status":"400"}},"node-payload":{"title":"node-payload","type":"object","properties":{"api-url":{"type":"string","description":"The API URL for the node, possibly relative to the pinbase (i.e. localhost)","example":"Et officia rerum accusamus voluptates atque reprehenderit."},"description":{"type":"string","description":"A helpful description of the node","example":"Vero minus quisquam nulla veritatis atque."}},"example":{"api-url":"Et officia rerum accusamus voluptates atque reprehenderit.","description":"Vero minus quisquam nulla veritatis atque."}}},"responses":{"NoContent":{"description":"No Content"},"NotFound":{"description":"Not Found"}},"securityDefinitions":{"LoginBasicAuth":{"type":"basic"},"jwt":{"type":"apiKey","description":"\n\n**Token URL**: http://localhost:3000/login\n\n**Security Scopes**:\n  * `node:create`: no description\n  * `node:delete`: no description\n  * `node:edit`: no description\n  * `node:view`: no description","name":"Authorization","in":"header"}}}